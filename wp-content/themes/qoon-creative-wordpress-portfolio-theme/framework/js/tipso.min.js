!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function o(o,e){this.element=t(o),this.doc=t(document),this.win=t(window),this.settings=t.extend({},r,e),this._defaults=r,this._name=n,this._title=this.element.attr("title"),this.mode="hide",this.ieFade=!a,this.init()}function e(){var t=window.navigator.msMaxTouchPoints,o="ontouchstart"in document.createElement("div");return t||o?!0:!1}function i(o){var e=o.clone();e.css("visibility","hidden"),t("body").append(e);var i=e.outerHeight(),s=e.outerWidth();return e.remove(),{width:s,height:i}}function s(o){var e,s,n,r=o.tooltip(),a=o.element,d=o,l=t(window),f=10;switch(a.parent().outerWidth()>l.outerWidth()&&(l=a.parent()),d.settings.position){case"top":s=a.offset().left+a.outerWidth()/2-i(r).width/2,e=a.offset().top-i(r).height-f,r.find(".tipso_arrow").css({marginLeft:-8,marginTop:""}),e<l.scrollTop()?(e=a.offset().top+a.outerHeight()+f,r.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("bottom")):(r.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("top"));break;case"bottom":s=a.offset().left+a.outerWidth()/2-i(r).width/2,e=a.offset().top+a.outerHeight()+f,r.find(".tipso_arrow").css({marginLeft:-8,marginTop:""}),e+i(r).height>l.scrollTop()+l.outerHeight()?(e=a.offset().top-i(r).height-f,r.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("top")):(r.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass(d.settings.position));break;case"left":s=a.offset().left-i(r).width-f,e=a.offset().top+a.outerHeight()/2-i(r).height/2,r.find(".tipso_arrow").css({marginTop:-8,marginLeft:""}),s<l.scrollLeft()?(s=a.offset().left+a.outerWidth()+f,r.find(".tipso_arrow").css({"border-right-color":d.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("right")):(r.find(".tipso_arrow").css({"border-left-color":d.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass(d.settings.position));break;case"right":s=a.offset().left+a.outerWidth()+f,e=a.offset().top+a.outerHeight()/2-i(r).height/2,r.find(".tipso_arrow").css({marginTop:-8,marginLeft:""}),s+f+d.settings.width>l.scrollLeft()+l.outerWidth()?(s=a.offset().left-i(r).width-f,r.find(".tipso_arrow").css({"border-left-color":d.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("left")):(r.find(".tipso_arrow").css({"border-right-color":d.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass(d.settings.position))}s<l.scrollLeft()&&("bottom"==d.settings.position||"top"==d.settings.position)&&(r.find(".tipso_arrow").css({marginLeft:s-8}),s=0),s+d.settings.width>l.outerWidth()&&("bottom"==d.settings.position||"top"==d.settings.position)&&(n=l.outerWidth()-(s+d.settings.width),r.find(".tipso_arrow").css({marginLeft:-n-8,marginTop:""}),s+=n),s<l.scrollLeft()&&("left"==d.settings.position||"right"==d.settings.position)&&(s=a.offset().left+a.outerWidth()/2-i(r).width/2,r.find(".tipso_arrow").css({marginLeft:-8,marginTop:""}),e=a.offset().top-i(r).height-f,e<l.scrollTop()?(e=a.offset().top+a.outerHeight()+f,r.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("bottom")):(r.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("top")),s+d.settings.width>l.outerWidth()&&(n=l.outerWidth()-(s+d.settings.width),r.find(".tipso_arrow").css({marginLeft:-n-8,marginTop:""}),s+=n),s<l.scrollLeft()&&(r.find(".tipso_arrow").css({marginLeft:s-8}),s=0)),s+d.settings.width>l.outerWidth()&&("left"==d.settings.position||"right"==d.settings.position)&&(s=a.offset().left+a.outerWidth()/2-i(r).width/2,r.find(".tipso_arrow").css({marginLeft:-8,marginTop:""}),e=a.offset().top-i(r).height-f,e<l.scrollTop()?(e=a.offset().top+a.outerHeight()+f,r.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("bottom")):(r.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r.removeClass("top bottom left right"),r.addClass("top")),s+d.settings.width>l.outerWidth()&&(n=l.outerWidth()-(s+d.settings.width),r.find(".tipso_arrow").css({marginLeft:-n-8,marginTop:""}),s+=n),s<l.scrollLeft()&&(r.find(".tipso_arrow").css({marginLeft:s-8}),s=0)),r.css({left:s+d.settings.offsetX,top:e+d.settings.offsetY})}var n="tipso",r={speed:400,background:"#55b555",color:"#ffffff",position:"top",width:200,maxWidth:"",delay:200,animationIn:"",animationOut:"",offsetX:0,offsetY:0,tooltipHover:!1,content:null,ajaxContentUrl:null,useTitle:!0,onBeforeShow:null,onShow:null,onHide:null};t.extend(o.prototype,{init:function(){var t=this,o=this.element,i=this.doc;if(o.addClass("tipso_style").removeAttr("title"),e())o.on("click."+n,function(o){"hide"==t.mode?t.show():t.hide(),o.stopPropagation()}),i.on("click",function(){"show"==t.mode&&t.hide()});else if(t.settings.tooltipHover){var s=null,r=null;o.on("mouseover."+n,function(){clearTimeout(s),clearTimeout(r),r=setTimeout(function(){t.show()},150)}),o.on("mouseout."+n,function(){clearTimeout(s),clearTimeout(r),s=setTimeout(function(){t.hide()},200),t.tooltip().on("mouseover."+n,function(){t.mode="tooltipHover"}).on("mouseout."+n,function(){t.mode="show",clearTimeout(s),s=setTimeout(function(){t.hide()},200)})})}else o.on("mouseover."+n,function(){t.show()}),o.on("mouseout."+n,function(){t.hide()})},tooltip:function(){return this.tipso_bubble||(this.tipso_bubble=t('<div class="tipso_bubble"><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')),this.tipso_bubble},show:function(){var o=this.tooltip(),e=this,i=this.win;"hide"==e.mode&&(t.isFunction(e.settings.onBeforeShow)&&e.settings.onBeforeShow(t(this)),e.settings.width?o.css({background:e.settings.background,color:e.settings.color,width:e.settings.width}).hide():e.settings.maxWidth?o.css({background:e.settings.background,color:e.settings.color,maxWidth:e.settings.maxWidth}).hide():o.css({background:e.settings.background,color:e.settings.color,width:200}).hide(),o.find(".tipso_content").html(e.content()),s(e),i.resize(function(){s(e)}),e.timeout=window.setTimeout(function(){e.ieFade||""===e.settings.animationIn||""===e.settings.animationOut?o.appendTo("body").stop(!0,!0).fadeIn(e.settings.speed,function(){e.mode="show",t.isFunction(e.settings.onShow)&&e.settings.onShow(t(this))}):o.remove().appendTo("body").stop(!0,!0).removeClass("animated "+e.settings.animationOut).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+e.settings.animationIn).fadeIn(e.settings.speed,function(){t(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+e.settings.animationIn)}),e.mode="show",t.isFunction(e.settings.onShow)&&e.settings.onShow(t(this)),i.off("resize",null,"tipsoResizeHandler")})},e.settings.delay))},hide:function(){var o=this,e=this.win;tipso_bubble=this.tooltip(),window.clearTimeout(o.timeout),o.timeout=null,"tooltipHover"!=o.mode&&(o.ieFade||""===o.settings.animationIn||""===o.settings.animationOut?tipso_bubble.stop(!0,!0).fadeOut(o.settings.speed,function(){t(this).remove(),t.isFunction(o.settings.onHide)&&"show"==o.mode&&o.settings.onHide(t(this)),o.mode="hide",e.off("resize",null,"tipsoResizeHandler")}):tipso_bubble.stop(!0,!0).removeClass("animated "+o.settings.animationIn).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+o.settings.animationOut).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+o.settings.animationOut).remove(),t.isFunction(o.settings.onHide)&&"show"==o.mode&&o.settings.onHide(t(this)),o.mode="hide",e.off("resize",null,"tipsoResizeHandler")}))},destroy:function(){var t=this.element,o=this.win,i=this.doc;t.off("."+n),o.off("resize",null,"tipsoResizeHandler"),e()&&i.off("click",null,"closeTipso"),t.removeData(n),t.removeClass("tipso_style").attr("title",this._title)},content:function(){var o,e=this.element,i=this,s=this._title;return o=i.settings.ajaxContentUrl?t.ajax({type:"GET",url:i.settings.ajaxContentUrl,async:!1}).responseText:i.settings.content?i.settings.content:i.settings.useTitle===!0?s:e.data("tipso")},update:function(t,o){var e=this;return o?void(e.settings[t]=o):e.settings[t]}});var a=function(){var t=document.createElement("p").style,o=["ms","O","Moz","Webkit"];if(""==t.transition)return!0;for(;o.length;)if(o.pop()+"Transition"in t)return!0;return!1}();t[n]=t.fn[n]=function(e){var i=arguments;if(void 0===e||"object"==typeof e)return this instanceof t||t.extend(r,e),this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new o(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var s;return this.each(function(){var r=t.data(this,"plugin_"+n);r||(r=t.data(this,"plugin_"+n,new o(this,e))),r instanceof o&&"function"==typeof r[e]&&(s=r[e].apply(r,Array.prototype.slice.call(i,1))),"destroy"===e&&t.data(this,"plugin_"+n,null)}),void 0!==s?s:this}}});
